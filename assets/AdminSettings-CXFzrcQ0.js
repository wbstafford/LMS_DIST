import{c as ge,d as be,r,j as e,F as L,al as _e,am as Ie,M as T,B as s,f as c,an as $e,ap as Fe,b6 as es,ah as De,aq as Me,A as te,aj as Re,h as ss,ab as ts,ac as rs,z as os,ad as se,b7 as as,b8 as ns}from"./index-BEzWJCG4.js";const is=()=>{const{user:n}=ge(),b=be(),p=n==null?void 0:n.OrgID,[N,w]=r.useState({open:[],closed:[]}),[C,E]=r.useState(!1),[P,I]=r.useState(!1),[l,k]=r.useState(""),[_,x]=r.useState(""),[$,j]=r.useState(!1),[U,z]=r.useState(!1),[M,J]=r.useState(new Set),[Y,B]=r.useState({}),[q,u]=r.useState(null),[A,y]=r.useState(!1);r.useEffect(()=>{(async()=>{var d;if(!p){s.error("Organization ID is missing."),b("/admin");return}E(!0);try{const m=sessionStorage.getItem("token");if(!m){s.error("Authentication token is missing. Please log in again."),b("/login");return}const O=await c.get("https://knowvara.com/api/api/support/support-requests",{headers:{Authorization:`Bearer ${m}`}});w(O.data)}catch(m){console.error("Error fetching support requests:",m),c.isAxiosError(m)?console.log(((d=m.response)==null?void 0:d.data.message)||"Failed to fetch support requests."):console.log("An unexpected error occurred while fetching support requests."),s.error(m instanceof Error?m.message:"Failed to fetch support requests.")}finally{E(!1)}})()},[p,b]);const H=async i=>{var d;if(i.preventDefault(),!l.trim()||!_.trim()){s.error("Subject and description are required.");return}j(!0);try{const m=sessionStorage.getItem("token");if(!m){s.error("Authentication token is missing. Please log in again."),b("/login");return}await c.post("https://knowvara.com/api/api/support/support-requests",{subject:l,description:_},{headers:{Authorization:`Bearer ${m}`,"Content-Type":"application/json"}}),k(""),x(""),I(!1),z(!0);const O=await c.get("https://knowvara.com/api/api/support/support-requests",{headers:{Authorization:`Bearer ${m}`}});w(O.data)}catch(m){console.error("Error submitting support request:",m),c.isAxiosError(m)?s.error(((d=m.response)==null?void 0:d.data.message)||"Failed to submit support request."):s.error("An unexpected error occurred while submitting support request.")}finally{j(!1)}},G=i=>{J(d=>{const m=new Set(d);return m.has(i)?m.delete(i):m.add(i),m})},S=(i,d)=>{B(m=>({...m,[d]:i.target.value}))},Q=async i=>{var m,O;const d=(m=Y[i])==null?void 0:m.trim();if(!d){s.error("Response cannot be empty.");return}try{const R=sessionStorage.getItem("token");if(!R){s.error("Authentication token is missing. Please log in again."),b("/login");return}await c.post(`https://knowvara.com/api/api/support/support-requests/${i}/responses`,{response:d},{headers:{Authorization:`Bearer ${R}`,"Content-Type":"application/json"}}),B(X=>({...X,[i]:""}));const v=await c.get("https://knowvara.com/api/api/support/support-requests",{headers:{Authorization:`Bearer ${R}`}});w(v.data)}catch(R){console.error("Error adding response:",R),c.isAxiosError(R)?s.error(((O=R.response)==null?void 0:O.data.message)||"Failed to add response."):s.error("An unexpected error occurred while adding response.")}},re=async()=>{var i;if(q!==null){y(!0);try{const d=sessionStorage.getItem("token");if(!d){s.error("Authentication token is missing. Please log in again."),b("/login");return}await c.put(`https://knowvara.com/api/api/support/support-requests/${q}/close`,{},{headers:{Authorization:`Bearer ${d}`}}),s.success("Support request closed successfully.");const m=await c.get("https://knowvara.com/api/api/support/support-requests",{headers:{Authorization:`Bearer ${d}`}});w(m.data)}catch(d){console.error("Error closing support request:",d),c.isAxiosError(d)?s.error(((i=d.response)==null?void 0:i.data.message)||"Failed to close support request."):s.error("An unexpected error occurred while closing support request.")}finally{y(!1),u(null)}}};return e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"text-lg font-semibold mb-4 text-gray-700",children:"Get Support from KnowVara"}),e.jsxs("div",{className:"rounded border p-4",children:[e.jsx("div",{className:"mb-6",children:e.jsx("button",{onClick:()=>I(i=>!i),className:"py-2 px-4 lms-button text-white rounded-md flex items-center",children:"Request Support"})}),P&&e.jsxs("form",{onSubmit:H,className:"mb-8 border p-4 rounded-md",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Submit a Support Request"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Subject"}),e.jsx("input",{type:"text",value:l,onChange:i=>k(i.target.value),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring focus:border-blue-300",required:!0})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Description"}),e.jsx("textarea",{value:_,onChange:i=>x(i.target.value),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring focus:border-blue-300",rows:4,required:!0})]}),e.jsx("div",{className:"",children:e.jsxs("button",{type:"submit",className:"py-2 px-4 lms-button text-white rounded-md flex items-center",disabled:$,children:[$?e.jsx(L,{className:"animate-spin mr-2"}):"",$?"Submitting...":"Submit Request"]})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4 text-gray-700",children:"Open Support Requests"}),C?e.jsx("div",{className:"flex justify-center items-center",children:e.jsx(L,{className:"animate-spin text-2xl text-blue-500"})}):N.open.length===0?e.jsx("p",{children:"No open support requests."}):N.open.map(i=>e.jsxs("div",{className:"mb-4 border rounded-md",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 cursor-pointer bg-gray-50",onClick:()=>G(i.id),children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-md font-semibold text-gray-700",children:i.subject}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Submitted by: ",i.submittedByName," on"," ",new Date(i.createdAt).toLocaleDateString()]})]}),e.jsx("div",{children:M.has(i.id)?e.jsx(_e,{}):e.jsx(Ie,{})})]}),M.has(i.id)&&e.jsxs("div",{className:"p-4",children:[e.jsx("p",{className:"mb-4",children:i.description}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"text-md font-semibold mb-2",children:"Responses"}),i.responses.length===0?e.jsx("p",{children:"No responses yet."}):i.responses.map(d=>e.jsxs("div",{className:"mb-2 border-l-4 pl-2",children:[e.jsxs("p",{className:"text-sm text-gray-700",children:[e.jsxs("strong",{children:[d.adminName,":"]})," ",d.response]}),e.jsx("p",{className:"text-xs text-gray-500",children:new Date(d.createdAt).toLocaleString()})]},d.id))]}),e.jsx("div",{className:"mb-4",children:e.jsx("textarea",{value:Y[i.id]||"",onChange:d=>S(d,i.id),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring focus:border-blue-300",rows:3,placeholder:"Enter your response here..."})}),e.jsxs("div",{className:"flex flex-row mt-2",children:[e.jsx("button",{type:"button",onClick:()=>Q(i.id),className:"py-2 px-4 lms-button text-white rounded-md flex items-center mr-2",children:"Submit Response"}),e.jsx("button",{type:"button",onClick:()=>u(i.id),className:"py-2 px-4 lms-button text-white rounded-md flex items-center",children:"Close Request"})]})]})]},i.id))]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4 text-gray-700",children:"Closed Support Requests"}),C?e.jsx("div",{className:"flex justify-center items-center",children:e.jsx(L,{className:"animate-spin text-2xl text-blue-500"})}):N.closed.length===0?e.jsx("p",{children:"No closed support requests."}):N.closed.map(i=>e.jsxs("div",{className:"mb-4 border rounded-md",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 cursor-pointer bg-gray-50",onClick:()=>G(i.id),children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-md font-semibold text-gray-700",children:i.subject}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Submitted by: ",i.submittedByName," on"," ",new Date(i.createdAt).toLocaleDateString()]})]}),e.jsx("div",{children:M.has(i.id)?e.jsx(_e,{}):e.jsx(Ie,{})})]}),M.has(i.id)&&e.jsxs("div",{className:"p-4",children:[e.jsx("p",{className:"mb-4",children:i.description}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"text-md font-semibold mb-2",children:"Responses"}),i.responses.length===0?e.jsx("p",{children:"No responses yet."}):i.responses.map(d=>e.jsxs("div",{className:"mb-2 border-l-4 pl-2",children:[e.jsxs("p",{className:"text-sm text-gray-700",children:[e.jsxs("strong",{children:[d.adminName,":"]})," ",d.response]}),e.jsx("p",{className:"text-xs text-gray-500",children:new Date(d.createdAt).toLocaleString()})]},d.id))]})]})]},i.id))]}),U&&e.jsx(T,{title:"Thank You",onClose:()=>z(!1),onConfirm:()=>z(!1),singleButton:!0,confirmText:"Close",widthClassName:"max-w-md",children:e.jsx("p",{children:"Thank you for contacting us. Someone will respond soon."})}),q!==null&&e.jsx(T,{title:"Confirm Close Request",onClose:()=>u(null),onConfirm:re,confirmText:A?"Closing...":"Confirm Close",isConfirmDisabled:A,widthClassName:"max-w-md",children:e.jsx("p",{children:"Are you sure you want to close this support request?"})})]})]})},ls=({storefronts:n,onDelete:b})=>{const p=be(),{user:N}=ge(),w="https://"+(N==null?void 0:N.Subdomain)+".knowvara.com",C=j=>{p(`/admin/storefronts/edit/${j.id}`)},E=()=>{p("/admin/storefronts/create")},[P,I]=$e.useState(!1),[l,k]=$e.useState(null),_=j=>{k(j),I(!0)},x=()=>{I(!1),k(null)},$=()=>{l&&b(l.id),x()};return e.jsxs("div",{className:"w-full md:w-full",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Storefronts"}),e.jsxs("button",{type:"button",onClick:E,className:"flex items-center py-2 px-4 lms-button text-white","aria-label":"Create Storefront",children:[e.jsx(Fe,{className:"mr-1"}),"Create Storefront"]})]}),n.length===0?e.jsx("p",{children:"No storefronts available."}):e.jsx("div",{className:"overflow-x-auto mb-6",children:e.jsxs("table",{className:"min-w-full bg-white",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"py-2 px-4 border",children:"Title"}),e.jsx("th",{className:"py-2 px-4 border",children:"Store Code"}),e.jsx("th",{className:"py-2 px-4 border",children:"Store Link"}),e.jsx("th",{className:"py-2 px-4 border w-32",children:"Actions"})]})}),e.jsx("tbody",{children:n.map(j=>{const U=`${w}/store/${j.storecode}`;return e.jsxs("tr",{className:"text-center",children:[e.jsx("td",{className:"py-2 px-4 border",children:j.title}),e.jsx("td",{className:"py-2 px-4 border",children:j.storecode}),e.jsx("td",{className:"py-2 px-4 border",children:e.jsxs("a",{href:U,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline flex items-center justify-center",children:[U,e.jsx(es,{className:"ml-1 text-sm"})]})}),e.jsxs("td",{className:"py-2 px-4 border",children:[e.jsx("button",{type:"button",onClick:()=>C(j),className:"mr-2 lms-icon","aria-label":"Edit Storefront",title:"Edit Storefront",children:e.jsx(De,{})}),e.jsx("button",{type:"button",onClick:()=>_(j),className:"lms-icon","aria-label":"Delete Storefront",title:"Delete Storefront",children:e.jsx(Me,{})})]})]},j.id)})})]})}),e.jsx(te,{children:P&&e.jsx(T,{title:"Confirm Delete",onClose:x,onConfirm:$,children:e.jsxs("p",{children:['Are you sure you want to delete the storefront "',l==null?void 0:l.title,'"?']})})})]})},cs=({coupon:n,onClose:b,onSave:p})=>{const[N,w]=r.useState(n?n.code:""),[C,E]=r.useState(n?n.percent_off:10),[P,I]=r.useState(n&&n.expiration_date?n.expiration_date:""),[l,k]=r.useState(""),_=()=>{if(k(""),!N.trim()){k("Coupon code is required.");return}if(C<1||C>100){k("Percent off must be between 1 and 100.");return}if(P){const x=new Date,$=new Date(P);if($.setHours(23,59,59,999),$<x){k("Expiration date cannot be in the past.");return}}p({code:N.trim(),percent_off:C,expiration_date:P||void 0})};return e.jsxs(T,{title:n?"Edit Coupon Code":"Create Coupon Code",onClose:b,onConfirm:_,confirmText:n?"Update Coupon":"Create Coupon",singleButton:!1,widthClassName:"max-w-md",isConfirmDisabled:!1,children:[l&&e.jsxs("div",{className:"flex items-center mb-4 text-red-500",children:[e.jsx(Re,{className:"mr-2"}),e.jsx("span",{children:l})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"mb-1 font-semibold",children:"Coupon Code"}),e.jsx("input",{type:"text",value:N,onChange:x=>w(x.target.value),className:"mb-4 p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"ENTERCODE",required:!0}),e.jsx("label",{className:"mb-1 font-semibold",children:"Percent Off (%)"}),e.jsx("input",{type:"number",value:C,onChange:x=>E(Number(x.target.value)),className:"mb-4 p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"10",min:1,max:100,required:!0}),e.jsx("label",{className:"mb-1 font-semibold",children:"Expiration Date (Optional)"}),e.jsx("input",{type:"date",value:P,onChange:x=>I(x.target.value),className:"mb-4 p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})},ds=async n=>(await c.get("https://knowvara.com/api/api/orgs/coupons",{headers:{Authorization:`Bearer ${n}`}})).data,ms=async(n,b)=>(await c.post("https://knowvara.com/api/api/orgs/coupons",b,{headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"}})).data,us=async(n,b,p)=>(await c.put(`https://knowvara.com/api/api/orgs/coupons/${b}`,p,{headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"}})).data,ps=async(n,b)=>{await c.delete(`https://knowvara.com/api/api/orgs/coupons/${b}`,{headers:{Authorization:`Bearer ${n}`}})},xs=()=>{const[n,b]=r.useState([]),[p,N]=r.useState(!1),[w,C]=r.useState(""),[E,P]=r.useState(!1),[I,l]=r.useState(null),[k,_]=r.useState(!1),[x,$]=r.useState(null),j=r.useCallback(async()=>{var u,A;N(!0),C("");try{const y=sessionStorage.getItem("token");if(!y){s.error("Authentication token is missing. Please log in again.");return}const H=await ds(y);b(H)}catch(y){console.error("Error fetching coupons:",y),c.isAxiosError(y)?(C(((u=y.response)==null?void 0:u.data.message)||"Failed to fetch coupons."),s.error(((A=y.response)==null?void 0:A.data.message)||"Failed to fetch coupons.")):(C("An unexpected error occurred while fetching coupons."),s.error("Failed to fetch coupons."))}finally{N(!1)}},[]);r.useEffect(()=>{j()},[j]);const U=()=>{l(null),P(!0)},z=u=>{l(u),P(!0)},M=()=>{l(null),P(!1)},J=async u=>{var A;try{const y=sessionStorage.getItem("token");if(!y){s.error("Authentication token is missing. Please log in again.");return}I?(await us(y,I.Id,u),s.success("Coupon updated successfully.")):(await ms(y,u),s.success("Coupon created successfully.")),j(),M()}catch(y){console.error("Error saving coupon:",y),c.isAxiosError(y)?s.error(((A=y.response)==null?void 0:A.data.message)||"Failed to save coupon code."):s.error("An unexpected error occurred.")}},Y=u=>{$(u),_(!0)},B=()=>{_(!1),$(null)},q=async()=>{var u;if(x)try{const A=sessionStorage.getItem("token");if(!A){s.error("Authentication token is missing. Please log in again.");return}await ps(A,x.Id),s.success("Coupon deleted successfully."),j(),B()}catch(A){console.error("Error deleting coupon:",A),c.isAxiosError(A)?s.error(((u=A.response)==null?void 0:u.data.message)||"Failed to delete coupon code."):s.error("An unexpected error occurred.")}};return e.jsxs("div",{className:"w-full md:w-full",children:[e.jsxs("div",{className:"flex w-full justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2 text-gray-700",children:"Coupon Codes"}),e.jsxs("button",{type:"button",onClick:U,className:"flex items-center py-2 px-4 lms-button text-white mb-4",children:[e.jsx(Fe,{className:"mr-1"}),"Create Coupon Code"]})]}),e.jsx("div",{className:"mb-6",children:p?e.jsx("div",{className:"flex justify-center items-center",children:e.jsx(L,{className:"animate-spin text-2xl text-blue-500"})}):w?e.jsx("div",{className:"text-red-500 text-center",children:w}):n.length===0?e.jsx("p",{children:"No coupon codes found."}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full bg-white",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"py-2 px-4 border",children:"Code"}),e.jsx("th",{className:"py-2 px-4 border",children:"Percent Off (%)"}),e.jsx("th",{className:"py-2 px-4 border",children:"Expiration Date"}),e.jsx("th",{className:"py-2 px-4 border",children:"Usage Count"}),e.jsx("th",{className:"py-2 px-4 border w-32",children:"Actions"})]})}),e.jsx("tbody",{children:n.map(u=>e.jsxs("tr",{className:"text-center",children:[e.jsx("td",{className:"py-2 px-4 border",children:u.code}),e.jsx("td",{className:"py-2 px-4 border",children:u.percent_off}),e.jsx("td",{className:"py-2 px-4 border",children:u.expiration_date?new Date(u.expiration_date).toLocaleDateString():"N/A"}),e.jsx("td",{className:"py-2 px-4 border",children:u.usage_count}),e.jsxs("td",{className:"py-2 px-4 border",children:[e.jsx("button",{type:"button",onClick:()=>z(u),className:"mr-2 lms-icon",title:"Edit Coupon",children:e.jsx(De,{})}),e.jsx("button",{type:"button",onClick:()=>Y(u),className:"lms-icon",title:"Delete Coupon",children:e.jsx(Me,{})})]})]},u.Id))})]})})}),e.jsx(te,{children:E&&e.jsx(cs,{coupon:I,onClose:M,onSave:J})}),e.jsx(te,{children:k&&e.jsx(T,{title:"Confirm Delete",onClose:B,onConfirm:q,children:e.jsxs("p",{children:['Are you sure you want to delete the coupon code "',x==null?void 0:x.code,'"?']})})})]})},fs=()=>{const{user:n,updateUser:b}=ge(),p=be(),N=ss(),w=ts(),C=rs(),E=n==null?void 0:n.OrgID,[P,I]=r.useState([]),[l,k]=r.useState({id:0,Name:"",companyLogoUrl:"",ecommerce:!1,gamify:!0,selfRegister:!1,contact_email:"",contact_phone:"",theme_color1:"#FFFFFF",theme_color2:"#000000",timezone:"UTC",stripe_account_id:"",stripe_customer_id:"",stripe_subscription_id:"",subscription_plan:"",subscription_status:"",trial_end:"",created_at:"",updated_at:"",subdomain:"",master_from_email:"",master_from_name:""}),[_,x]=r.useState(!1),[$,j]=r.useState(!1),[U,z]=r.useState(""),[M,J]=r.useState(""),[Y,B]=r.useState(!1),[q,u]=r.useState(!1),[A,y]=r.useState(""),[H,G]=r.useState("success"),[S,Q]=r.useState(null),[re,i]=r.useState([]),[d,m]=r.useState(!1),[O,R]=r.useState(!1),[v,X]=r.useState(null),[oe,F]=r.useState(!1),[Ue,ye]=r.useState(!1),[je,K]=r.useState(!1),[Le,Te]=r.useState([]),[ze,Oe]=r.useState(!0),[ae,Ne]=r.useState(""),[Be,Ce]=r.useState(!1),[me,ue]=r.useState(""),[ne,pe]=r.useState((n==null?void 0:n.Email)||""),[ie,xe]=r.useState(""),[Z,he]=r.useState(!1),we=async()=>{try{const t=await as();I(t)}catch(t){console.error("Error fetching storefronts:",t),s.error("Failed to load storefronts.")}};r.useEffect(()=>{we()},[]);const qe=async t=>{try{await ns(t),s.success("Storefront deleted successfully."),we()}catch(o){console.error("Error deleting storefront:",o),s.error("Failed to delete storefront.")}};r.useEffect(()=>{(async()=>{var o;try{const a=sessionStorage.getItem("token");if(!a){s.error("Authentication token is missing. Please log in again."),p("/login");return}const f=await c.get("https://knowvara.com/api/api/orgs/plans",{headers:{Authorization:`Bearer ${a}`}});Te(f.data)}catch(a){console.error("Error fetching plans:",a),c.isAxiosError(a)?Ne(((o=a.response)==null?void 0:o.data.message)||"Failed to fetch subscription plans."):Ne("An unexpected error occurred while fetching plans."),s.error(ae||"Failed to load subscription plans.")}finally{Oe(!1)}})()},[p,ae]);const Ye=[{id:"enterprise",name:"Enterprise",price:"Contact Us",description:"Custom solutions for your organization.",users:"Unlimited users",storage:"Unlimited Courses"}],He=[...Le.map(t=>({id:t.id.toString(),name:t.name,price:`$${Number(t.price).toFixed(2)}/month`,description:t.description,users:`Up to ${t.users_limit} users`,storage:t.storage_limit,priceId:t.price_id})),...Ye];r.useEffect(()=>{(async()=>{var o;if(!E){p("/admin");return}x(!0),z("");try{const a=sessionStorage.getItem("token");if(!a){s.error("Authentication token is missing. Please log in again."),p("/login");return}const f=await c.get("https://knowvara.com/api/api/orgs/org",{headers:{Authorization:`Bearer ${a}`}});k(f.data),m(!0);const h=await c.get("https://knowvara.com/api/api/orgs/subscription",{headers:{Authorization:`Bearer ${a}`}});Q(h.data),m(!1);const g=await c.get("https://knowvara.com/api/api/orgs/payment-history",{headers:{Authorization:`Bearer ${a}`}});g.data&&Array.isArray(g.data.payments)?i(g.data.payments):(i([]),console.error("Unexpected payment history response structure:",g.data),s.error("Failed to load payment history."))}catch(a){console.error(a),c.isAxiosError(a)?s.error(((o=a.response)==null?void 0:o.data.message)||"Error fetching organization or subscription data."):s.error("An unexpected error occurred.")}finally{x(!1),m(!1)}})()},[E,p]),r.useEffect(()=>{B(!!l.stripe_account_id)},[l.stripe_account_id]),r.useEffect(()=>{const t=new URLSearchParams(N.search),o=t.get("connected"),a=t.get("error");o==="true"&&(console.log("Stripe connected successfully."),y("Your Stripe account has been connected successfully! You are ready to accept payments."),G("success"),u(!0),b({stripeActive:!0})),a&&(console.log("Stripe connection error."),y(`We were unable to connect your Stripe account. The error received was: ${a}. Please try again or contact Technical Support.`),G("error"),u(!0))},[N.search]);const Ge=async()=>{var t;try{const o=sessionStorage.getItem("token");if(!o){s.error("Authentication token is missing. Please log in again."),p("/login");return}const a=await c.get("https://knowvara.com/api/api/orgs/stripe/connect",{headers:{Authorization:`Bearer ${o}`}});window.location.href=a.data.url}catch(o){c.isAxiosError(o)?s.error(((t=o.response)==null?void 0:t.data.message)||"Error initiating Stripe Connect."):s.error("An unexpected error occurred.")}},D=t=>{const o=t.target,{name:a,type:f}=o;let h="";f==="checkbox"&&o instanceof HTMLInputElement?h=o.checked:(o instanceof HTMLInputElement||o instanceof HTMLSelectElement)&&(h=o.value),k(g=>({...g,[a]:h}))},Ke=async t=>{var o;t.preventDefault(),x(!0),z(""),J("");try{const a=sessionStorage.getItem("token");if(!a){s.error("Authentication token is missing. Please log in again."),p("/login");return}await c.put("https://knowvara.com/api/api/orgs/org",l,{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}}),n&&b({ecommerce:l.ecommerce,gamify:l.gamify,theme_color1:l.theme_color1,theme_color2:l.theme_color2}),s.success("Organization settings updated successfully."),console.log("Called toast success")}catch(a){console.error(a),c.isAxiosError(a)?s.error(((o=a.response)==null?void 0:o.data.message)||"Error updating organization settings."):s.error("An unexpected error occurred.")}finally{x(!1)}},Ve=async t=>{var f;const o=t.target.files&&t.target.files[0];if(!o){s.error("No file selected.");return}const a=new FormData;a.append("logo",o),j(!0);try{const h=sessionStorage.getItem("token");if(!h){s.error("Authentication token is missing. Please log in again."),p("/login");return}const g=await c.post("https://knowvara.com/api/api/orgs/upload-logo",a,{headers:{Authorization:`Bearer ${h}`,"Content-Type":"multipart/form-data"}});k(W=>({...W,companyLogoUrl:g.data.companyLogoUrl})),n&&b({companyLogoUrl:g.data.companyLogoUrl}),s.success("Company logo uploaded successfully.")}catch(h){c.isAxiosError(h)?s.error(((f=h.response)==null?void 0:f.data.message)||"Error uploading company logo."):s.error("An unexpected error occurred.")}finally{j(!1),t.target.value=""}},Se=()=>{u(!1),y(""),G("success"),p(N.pathname,{replace:!0})},We=()=>{X(null),R(!0)},V=()=>{X(null),R(!1)},Je=()=>{ye(!0)},ve=()=>{ye(!1)},ke=()=>{Ce(!0),ue(""),pe((n==null?void 0:n.Email)||""),xe(""),he(!1)},Ee=()=>{Ce(!1),ue(""),pe((n==null?void 0:n.Email)||""),xe(""),he(!1)},Qe=async()=>{var a,f;if(!me.trim()){s.error("Please enter a message.");return}if(!ne.trim()){s.error("Please enter your contact email.");return}if(!/\S+@\S+\.\S+/.test(ne)){s.error("Please enter a valid email address.");return}if(ie.trim()&&!/^[+\d]?(?:[\d-.\s()]*)$/.test(ie)){s.error("Please enter a valid phone number.");return}const o=sessionStorage.getItem("token");if(!o){s.error("Authentication token is missing. Please log in again."),p("/login");return}try{x(!0),await c.post("https://knowvara.com/api/api/orgs/contactEnterprise",{orgId:E,message:me,contactEmail:ne,contactPhone:ie},{headers:{Authorization:`Bearer ${o}`}}),he(!0)}catch(h){if(console.error(h),c.isAxiosError(h)){const g=h;(f=(a=g.response)==null?void 0:a.data)!=null&&f.error?s.error(g.response.data.error):s.error("Failed to send inquiry.")}else s.error("Failed to send inquiry.")}finally{x(!1)}},Ae=()=>{var o;console.log("Subscription Plan:",l.subscription_plan),console.log("Stripe Subscription ID:",l.stripe_subscription_id);const t=((o=l.subscription_plan)==null?void 0:o.toLowerCase())||"";return!l.stripe_subscription_id&&(t==="free"||t==="free trial")},Xe=async()=>{var t,o;if(!v){s.error("Please select a plan.");return}F(!0);try{const a=sessionStorage.getItem("token");if(!a){s.error("Authentication token is missing. Please log in again."),p("/login");return}if(v.id==="enterprise"){ke(),V();return}if(v.id==="free"){try{(await c.post("https://knowvara.com/api/api/orgs/selectFreeTrial",{orgId:E},{headers:{Authorization:`Bearer ${a}`}})).status===200&&(s.success("Free Trial selected successfully!"),b({subscription_plan:"free"}),p("/admin"),V())}catch(f){console.error(f),c.isAxiosError(f)?s.error(((t=f.response)==null?void 0:t.data.message)||"Failed to select Free Trial."):s.error("Failed to select Free Trial.")}finally{F(!1)}return}if(Ae()){if(!w||!C){s.error("Stripe has not loaded yet. Please try again."),F(!1);return}const f=C.getElement(se);if(!f){s.error("Payment information is incomplete."),F(!1);return}const{error:h,paymentMethod:g}=await w.createPaymentMethod({type:"card",card:f,billing_details:{email:n==null?void 0:n.Email}});if(h){console.error("[createPaymentMethod error]",h),s.error(h.message||"Payment method creation failed."),F(!1);return}if(!g){s.error("Payment method creation failed."),F(!1);return}console.log("Created PaymentMethod:",g==null?void 0:g.id),console.log("Sending to backend:",{orgId:E,priceId:v.priceId,paymentMethodId:g==null?void 0:g.id});const W=await c.post("https://knowvara.com/api/api/orgs/update-subscription",{orgId:E,priceId:v.priceId,paymentMethodId:g.id},{headers:{Authorization:`Bearer ${a}`}});if(W.status===200){const{clientSecret:le,message:ce}=W.data;if(s.success(ce||"Subscription updated successfully!"),le){const{error:fe,paymentIntent:Pe}=await w.confirmCardPayment(le,{payment_method:g.id});if(fe){console.error("[confirmCardPayment error]",fe),s.error(fe.message||"Payment confirmation failed."),F(!1);return}Pe&&Pe.status==="succeeded"?s.success("Payment confirmed successfully!"):s.error("Payment confirmation incomplete. Please check your payment method.")}const ee=await c.get("https://knowvara.com/api/api/orgs/org",{headers:{Authorization:`Bearer ${a}`}});k(ee.data);const de=await c.get("https://knowvara.com/api/api/orgs/subscription",{headers:{Authorization:`Bearer ${a}`}});Q(de.data),V()}}else{const f=await c.post("https://knowvara.com/api/api/orgs/update-subscription",{orgId:E,priceId:v.priceId},{headers:{Authorization:`Bearer ${a}`}});if(f.status===200){const{clientSecret:h,message:g}=f.data;if(s.success(g||"Subscription updated successfully!"),h){if(!w||!C){s.error("Stripe has not loaded yet. Please try again."),F(!1);return}const ce=C.getElement(se);if(!ce){s.error("Payment information is incomplete."),F(!1);return}const{error:ee,paymentIntent:de}=await w.confirmCardPayment(h,{payment_method:{card:ce,billing_details:{email:n==null?void 0:n.Email}}});if(ee){console.error("[confirmCardPayment error]",ee),s.error(ee.message||"Payment confirmation failed."),F(!1);return}de&&de.status==="succeeded"?s.success("Payment confirmed successfully!"):s.error("Payment confirmation incomplete. Please check your payment method.")}const W=await c.get("https://knowvara.com/api/api/orgs/org",{headers:{Authorization:`Bearer ${a}`}});k(W.data);const le=await c.get("https://knowvara.com/api/api/orgs/subscription",{headers:{Authorization:`Bearer ${a}`}});Q(le.data),V()}}}catch(a){console.error(a),c.isAxiosError(a)?s.error(((o=a.response)==null?void 0:o.data.message)||"Error changing subscription plan."):s.error("An unexpected error occurred.")}finally{F(!1)}},Ze=async()=>{var t;if(!w||!C){s.error("Stripe has not loaded yet. Please try again.");return}K(!0);try{const o=C.getElement(se);if(!o){s.error("Payment information is incomplete."),K(!1);return}const{error:a,paymentMethod:f}=await w.createPaymentMethod({type:"card",card:o,billing_details:{email:n==null?void 0:n.Email}});if(a){console.error("[createPaymentMethod error]",a),s.error(a.message||"Payment method creation failed."),K(!1);return}if(!f){s.error("Payment method creation failed."),K(!1);return}const h=sessionStorage.getItem("token");if(!h){s.error("Authentication token is missing. Please log in again."),p("/login"),K(!1);return}(await c.post("https://knowvara.com/api/api/orgs/update-payment-method",{orgId:E,paymentMethodId:f.id},{headers:{Authorization:`Bearer ${h}`}})).status===200&&(s.success("Payment information updated successfully!"),ve())}catch(o){console.error(o),c.isAxiosError(o)?s.error(((t=o.response)==null?void 0:t.data.message)||"Error updating payment information."):s.error("An unexpected error occurred.")}finally{K(!1)}};return _&&!l.Name?e.jsx("div",{className:"flex justify-center items-center h-screen",children:e.jsx(L,{className:"animate-spin text-4xl text-blue-500"})}):e.jsxs("div",{className:"flex flex-col md:flex-row h-auto min-h-[100%]",children:[e.jsx("div",{className:"flex flex-col items-start w-full md:w-3/5 border-r border-gray-300 p-4",children:e.jsxs("form",{onSubmit:Ke,className:"w-full",id:"org-settings-form",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-600",children:"Edit Organization Settings"}),M&&e.jsx("div",{className:"mb-4 text-green-500",children:M}),U&&e.jsx("div",{className:"mb-4 text-red-500",children:U}),e.jsxs("div",{className:"mb-6 rounded-lg border p-4",children:[e.jsxs("div",{className:"flex flex-row w-full",children:[e.jsxs("div",{className:"flex flex-col w-1/5 items-center mr-6",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Company Logo"}),e.jsx("img",{src:l.companyLogoUrl?"/content"+l.companyLogoUrl:"/defaultOrgLogo.png",alt:"Company Logo",className:"w-48 h-24 object-contain mb-4"}),e.jsxs("div",{className:"w-full flex justify-center",children:[e.jsx("input",{type:"file",accept:"image/*",onChange:Ve,className:"hidden",id:"logo-upload"}),e.jsx("label",{htmlFor:"logo-upload",className:"py-1 px-4 lms-button text-xs cursor-pointer flex items-center justify-center",children:$?e.jsxs(e.Fragment,{children:[e.jsx(L,{className:"animate-spin mr-2"})," Uploading..."]}):"Select Logo"})]})]}),e.jsxs("div",{className:"w-4/5",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:space-x-4 mb-4",children:[e.jsxs("div",{className:"flex-1 mb-4 md:mb-0",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Organization Name"}),e.jsx("input",{type:"text",name:"Name",value:l.Name,onChange:D,required:!0,className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring focus:border-blue-300"})]}),e.jsxs("div",{className:"flex-1 mb-4 md:mb-0",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Subdomain"}),e.jsx("input",{type:"text",name:"subdomain",value:l.subdomain||"",onChange:D,className:"w-1/2 px-3 py-2 border rounded-md focus:outline-none focus:ring focus:border-blue-300 mr-1",placeholder:"yourcompany"}),e.jsx("span",{className:"",children:".knowvara.com"})]})]}),e.jsxs("div",{className:"flex flex-col md:flex-row md:space-x-4 mb-4",children:[e.jsxs("div",{className:"flex-1 mb-4 md:mb-0",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Contact Email"}),e.jsx("input",{type:"email",name:"contact_email",value:l.contact_email||"",onChange:D,className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring focus:border-blue-300",placeholder:"support@example.com"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Contact Phone"}),e.jsx("input",{type:"text",name:"contact_phone",value:l.contact_phone||"",onChange:D,className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring focus:border-blue-300",placeholder:"+1234567890"})]})]}),e.jsxs("div",{className:"flex flex-col md:flex-row md:space-x-4 mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"System Emails From (Email Address)"}),e.jsx("input",{type:"email",name:"master_from_email",value:l.master_from_email||"",onChange:D,className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring focus:border-blue-300",placeholder:"noreply@yourcompany.com"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"System Emails From (Name)"}),e.jsx("input",{type:"text",name:"master_from_name",value:l.master_from_name||"",onChange:D,className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring focus:border-blue-300",placeholder:"Learning Management System"})]})]}),e.jsxs("div",{className:"flex flex-col md:flex-row md:space-x-4 mb-4",children:[e.jsxs("div",{className:"flex-1 mb-4 md:mb-0",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Theme Color 1"}),e.jsx("input",{type:"color",name:"theme_color1",value:l.theme_color1,onChange:D,className:"w-full h-10 p-0 border-0"})]}),e.jsxs("div",{className:"flex-1 mb-4 md:mb-0",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Theme Color 2"}),e.jsx("input",{type:"color",name:"theme_color2",value:l.theme_color2,onChange:D,className:"w-full h-10 p-0 border-0"})]})]})]})]}),e.jsxs("div",{className:"flex flex-col space-y-4 mb-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"selfRegister",checked:l.selfRegister,onChange:D,className:"mr-2",id:"selfRegister"}),e.jsx("label",{htmlFor:"selfRegister",className:"text-gray-700 font-semibold",children:"Allow Users to Self Register"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"ecommerce",checked:l.ecommerce,onChange:D,className:"mr-2",id:"ecommerce"}),e.jsx("label",{htmlFor:"ecommerce",className:"text-gray-700 font-semibold",children:"Enable E-commerce"})]}),l.ecommerce&&e.jsx("div",{className:"ml-2 mt-2 border rounded p-4",children:Y?e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-green-600 text-lg mb-2",children:"Your Stripe account is connected."}),e.jsx("p",{children:"You can now assign prices to courses and bundles. You can also create external storefronts and coupon codes below."}),e.jsx("div",{className:"mt-4 mb-4",children:e.jsx(ls,{storefronts:P,onDelete:qe})}),e.jsx("div",{className:"w-full md:w-full",children:e.jsx(xs,{})})]}):e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"mb-2",children:"To enable the collection of payments, you must link your Stripe account below."}),e.jsx("button",{type:"button",onClick:Ge,className:"py-2 px-4 bg-blue-500 text-white rounded-md",children:"Connect Stripe Account"})]})}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"gamify",checked:l.gamify,onChange:D,className:"mr-2",id:"gamify"}),e.jsx("label",{htmlFor:"gamify",className:"text-gray-700 font-semibold",children:"Enable Gamification"})]}),l.gamify&&e.jsx("div",{className:"ml-2 mt-2 border rounded p-4",children:e.jsx("button",{type:"button",onClick:()=>p("/admin/gamification"),className:"py-2 px-4 lms-button text-white rounded-md",children:"Manage Gamification"})})]})]})]})}),e.jsxs("div",{className:"w-full md:w-2/5 p-4",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4 text-gray-700",children:"Subscription Details"}),e.jsxs("div",{className:"border p-4 rounded-md mb-6",children:[d?e.jsx("div",{className:"flex justify-center items-center",children:e.jsx(L,{className:"animate-spin text-2xl text-blue-500"})}):e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"text-lg mt-0 pt-0",children:[e.jsx("strong",{children:"Current Plan:"})," ",(S==null?void 0:S.subscription_plan)||"No Active Subscription"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Next Payment Date:"})," ",S!=null&&S.next_payment_date?new Date(S.next_payment_date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"User Accounts:"})," ",S==null?void 0:S.number_of_users," ","used of"," ",(()=>{var o;const t=(o=S==null?void 0:S.subscription_plan)==null?void 0:o.toLowerCase();return t==="free"||t==="basic"?"100":t==="plus"?"250":t==="premium"?"1000":"N/A"})()," ","available."]}),(S==null?void 0:S.trial_end)&&e.jsxs("p",{children:[e.jsx("strong",{children:"Free Trial Expires On:"})," ",new Date(S.trial_end).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]}),e.jsx("button",{onClick:We,className:"mt-4 py-2 px-4 bg-green-500 text-white rounded mr-2 mb-4",children:"Change Plan"}),l.subscription_plan&&l.subscription_plan.toLowerCase()!=="free"&&e.jsx("button",{onClick:Je,className:"py-2 px-4 lms-button text-white rounded-md",children:"Update Payment Info"})]}),e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Payment History"}),e.jsx("div",{className:"border p-2 rounded-md mb-2",children:re.length===0?e.jsx("p",{children:"No payments found."}):e.jsxs("table",{className:"min-w-full bg-white",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"py-1",children:"Date"}),e.jsx("th",{className:"py-1",children:"Amount"}),e.jsx("th",{className:"py-1",children:"Status"})]})}),e.jsx("tbody",{children:re.map(t=>e.jsxs("tr",{className:"text-center",children:[e.jsx("td",{className:"py-1",children:new Date(t.created).toLocaleDateString()}),e.jsxs("td",{className:"py-1",children:["$",t.amount.toFixed(2)," ",t.currency.toUpperCase()]}),e.jsx("td",{className:"py-1 capitalize",children:t.status})]},t.id))})]})})]}),e.jsx("div",{className:"w-full",children:e.jsx(is,{})})]}),e.jsx(te,{children:q&&e.jsxs(T,{title:H==="success"?"Success":"Stripe Connection Error",onClose:Se,onConfirm:Se,singleButton:!0,confirmText:"OK",widthClassName:"max-w-md",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[H==="success"?e.jsx(os,{className:"text-green-500 text-2xl mr-2"}):e.jsx(Re,{className:"text-red-500 text-2xl mr-2"}),e.jsx("h2",{className:"text-xl font-semibold",children:"Notification"})]}),e.jsx("p",{className:"mb-6",children:A})]})}),e.jsx(te,{children:O&&e.jsxs(T,{title:"Change Your KnowVara Subscription",onClose:V,onConfirm:Xe,confirmText:oe?"Changing...":"Confirm Change",isConfirmDisabled:!v||oe,widthClassName:"max-w-5xl",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 overflow-y-auto max-h-96",children:ze?e.jsx("div",{className:"flex justify-center items-center col-span-4",children:e.jsx(L,{className:"animate-spin text-2xl text-blue-500"})}):ae?e.jsx("div",{className:"col-span-4 text-red-500 text-center",children:ae}):He.map(t=>{const o=t.name===l.subscription_plan;return e.jsxs("div",{className:`border rounded-lg p-4 flex flex-col ${o?"border-green-500 bg-green-50 cursor-default":(v==null?void 0:v.id)===t.id?"border-blue-500 shadow-lg cursor-pointer":"border-gray-300 cursor-pointer"}`,onClick:o?void 0:()=>X(t),children:[e.jsx("h3",{className:"text-xl font-bold mb-2",children:t.name}),e.jsx("p",{className:"text-lg mb-4",children:t.price}),e.jsxs("ul",{className:"list-disc list-inside mb-3",children:[e.jsx("li",{className:"text-sm mb-3 font-semibold",children:t.users}),e.jsx("li",{className:"text-sm mb-3",children:t.storage}),e.jsx("li",{className:"text-sm mb-3",children:"Custom Branding"})]}),t.id!=="enterprise"?e.jsx("button",{className:`mt-auto py-2 px-4 rounded-md text-white ${o?"bg-gray-400 cursor-not-allowed":(v==null?void 0:v.id)===t.id?"bg-green-500 hover:bg-green-600":"lms-button"}`,disabled:o||oe,children:o?"Current Plan":(v==null?void 0:v.id)===t.id?"Selected":"Select"}):e.jsx("button",{onClick:()=>{ke(),V()},className:"mt-auto py-2 px-4 text-white rounded-md lms-button",disabled:oe,children:"Contact Us"})]},t.id)})}),e.jsx("p",{className:"italic text-xs mt-2 ml-2",children:"Note: If you upgrade your subscription plan, a prorated amount will be calculated and charged for the remaining period of your current subscription."}),v&&Ae()&&e.jsxs("div",{className:"mt-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-4",children:"Enter Payment Details"}),e.jsx("div",{className:"p-4 border rounded-md",children:e.jsx(se,{options:{style:{base:{fontSize:"16px",color:"#424770","::placeholder":{color:"#aab7c4"},padding:"10px 12px",fontFamily:"inherit"},invalid:{color:"#9e2146"}}},className:"mb-4 p-3 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})})]})]})}),Ue&&e.jsx(T,{title:"Update Payment Information",onClose:ve,onConfirm:Ze,confirmText:je?"Updating...":"Update Payment",isConfirmDisabled:je,widthClassName:"max-w-2xl",children:e.jsx("div",{className:"p-4 border rounded-md",children:e.jsx(se,{options:{style:{base:{fontSize:"16px",color:"#424770","::placeholder":{color:"#aab7c4"},padding:"10px 12px",fontFamily:"inherit"},invalid:{color:"#9e2146"}}},className:"mb-4 p-3 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})})}),Be&&e.jsx(T,{title:Z?"Thank You":"Contact Us for Enterprise Plan",onClose:Ee,onConfirm:Z?Ee:Qe,singleButton:Z,confirmText:Z?"Close":"Submit",widthClassName:"max-w-md",children:Z?e.jsx("p",{children:"Thank you for your inquiry. Someone will contact you right away."}):e.jsxs("div",{className:"flex flex-col",children:[e.jsx("p",{children:"Need more from your LMS than the standard plans provide? No Problem! Tell us a little bit about your requirements in the form below, and someone will contact you right away."}),e.jsxs("label",{className:"mt-4 mb-1 text-sm font-medium text-gray-700",children:["Contact Email ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"email",value:ne,onChange:t=>pe(t.target.value),className:"mb-4 p-3 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"you@example.com",required:!0}),e.jsx("label",{className:"mb-1 text-sm font-medium text-gray-700",children:"Contact Phone Number (Optional)"}),e.jsx("input",{type:"tel",value:ie,onChange:t=>xe(t.target.value),className:"mb-4 p-3 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"123-456-7890"}),e.jsxs("label",{className:"mb-1 text-sm font-medium text-gray-700",children:["Message ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{value:me,onChange:t=>ue(t.target.value),className:"mt-4 p-3 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Your message here...",rows:4,required:!0})]})}),e.jsx("div",{className:"fixed bottom-0 left-0 w-full bg-white p-4 flex justify-end space-x-4 items-center border-t",children:e.jsx("button",{type:"submit",form:"org-settings-form",className:"py-2 px-4 lms-button text-white flex items-center",disabled:_,children:_?e.jsxs(e.Fragment,{children:[e.jsx(L,{className:"animate-spin mr-2"})," Saving..."]}):"Save Changes"})})]})};export{fs as default};
