import{d as N,j as e,m as v,a4 as y,a2 as D}from"./index-2WPDJfjq.js";import{C as $}from"./CourseStatusBar-D5Anj0Mn.js";const k=t=>{if(t>3&&t<21)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},P=t=>{const r=new Date(t),s={month:"long"},o=new Intl.DateTimeFormat("en-US",s).format(r),n=r.getDate(),a=k(n);return`${o} ${n}${a}`},F=t=>t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),h=(t,r)=>{if(!r)return t;const s=F(r),o=new RegExp(`(${s})`,"gi"),n=t.split(o);return e.jsx(e.Fragment,{children:n.map((a,d)=>o.test(a)?e.jsx("span",{className:"bg-yellow-200",children:a},d):a)})},S=({course:t,enrolled:r,searchTerm:s,isEcomm:o})=>{const{Id:n,Name:a,ImageURL:d,Price:c,ShortDescription:m,certificateURL:i,dueDate:l}=t,f=N(),g=c!=null?c.toFixed(2):"N/A",u=()=>{f(`/student/course/${n}`)},p=x=>{x.stopPropagation(),u()},j=x=>{if(x.stopPropagation(),i){const b=i.startsWith("http")?i:`/content/${i}`;window.open(b,"_blank")}},w=d||"/GenericCourseIcon.webp",C=l?new Date(l).getTime()<new Date().setHours(0,0,0,0):!1;return e.jsxs(v.div,{className:`relative p-0 shadow cursor-pointer courseCard card-bg courseCardBorder rounded-lg ${r?"courseCardBorderEnrolled":""} flex flex-col`,initial:{opacity:0},animate:{opacity:1},transition:{duration:.25},whileHover:{scale:1.05},onClick:u,children:[e.jsx("div",{className:"relative w-full h-64 md:h-48 flex-shrink-0 overflow-hidden shadow-sm rounded-t-lg",style:{backgroundImage:`url(${w})`,backgroundSize:"cover",backgroundPosition:"center"}}),e.jsxs("div",{className:"flex flex-col flex-grow mt-1 px-3 py-2 pb-3",children:[e.jsxs("div",{className:"flex-grow",children:[e.jsx("p",{className:"text-gray-700 font-bold monster",children:s?h(a,s):a}),e.jsx("p",{className:"text-gray-700 courseCardDescription mt-1 text-sm",children:s?h(m,s):m})]}),e.jsx($,{courseId:n}),e.jsxs("div",{className:"flex justify-between items-center mt-1 h-6",children:[e.jsxs("div",{className:"flex items-center",children:[i&&e.jsx("button",{onClick:j,className:"lms-icon mr-2","aria-label":"View Certificate",children:e.jsx(y,{size:20})}),l&&e.jsxs("span",{className:`text-xs ${C?"font-bold text-red-700":"text-gray-700"}`,children:["Due: ",P(l)]})]}),e.jsxs("div",{className:"flex items-center",children:[c!==0&&o&&e.jsxs("div",{className:"mr-2 text-sm font-bold text-gray-700",children:["$",g]}),e.jsx("button",{onClick:p,className:"w-7 h-7 flex items-center justify-center rounded-full text-white bg-gray-300","aria-label":"Play Course",children:e.jsx(D,{size:12,className:"text-white",style:{marginLeft:"1px"}})})]})]})]})]})};export{S as C};
