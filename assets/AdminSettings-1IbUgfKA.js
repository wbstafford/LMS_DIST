import{c as $e,d as ge,r,j as e,F as U,ak as Pe,al as _e,M as L,B as s,e as c,am as Ie,ao as Fe,b5 as es,ag as De,ap as Me,A as te,ai as Re,f as ss,aa as ts,ab as rs,y as os,ac as se,b6 as as,b7 as ns}from"./index-BzFnb_De.js";const is=()=>{const{user:n}=$e(),b=ge(),p=n==null?void 0:n.OrgID,[v,C]=r.useState({open:[],closed:[]}),[N,k]=r.useState(!1),[P,_]=r.useState(!1),[l,E]=r.useState(""),[I,h]=r.useState(""),[y,$]=r.useState(!1),[q,T]=r.useState(!1),[M,J]=r.useState(new Set),[Y,O]=r.useState({}),[B,u]=r.useState(null),[A,j]=r.useState(!1);r.useEffect(()=>{(async()=>{var d;if(!p){s.error("Organization ID is missing."),b("/admin");return}k(!0);try{const m=sessionStorage.getItem("token");if(!m){s.error("Authentication token is missing. Please log in again."),b("/login");return}const z=await c.get("https://knowvara.com/api/api/support/support-requests",{headers:{Authorization:`Bearer ${m}`}});C(z.data)}catch(m){console.error("Error fetching support requests:",m),c.isAxiosError(m)?console.log(((d=m.response)==null?void 0:d.data.message)||"Failed to fetch support requests."):console.log("An unexpected error occurred while fetching support requests."),s.error(m instanceof Error?m.message:"Failed to fetch support requests.")}finally{k(!1)}})()},[p,b]);const H=async i=>{var d;if(i.preventDefault(),!l.trim()||!I.trim()){s.error("Subject and description are required.");return}$(!0);try{const m=sessionStorage.getItem("token");if(!m){s.error("Authentication token is missing. Please log in again."),b("/login");return}await c.post("https://knowvara.com/api/api/support/support-requests",{subject:l,description:I},{headers:{Authorization:`Bearer ${m}`,"Content-Type":"application/json"}}),E(""),h(""),_(!1),T(!0);const z=await c.get("https://knowvara.com/api/api/support/support-requests",{headers:{Authorization:`Bearer ${m}`}});C(z.data)}catch(m){console.error("Error submitting support request:",m),c.isAxiosError(m)?s.error(((d=m.response)==null?void 0:d.data.message)||"Failed to submit support request."):s.error("An unexpected error occurred while submitting support request.")}finally{$(!1)}},G=i=>{J(d=>{const m=new Set(d);return m.has(i)?m.delete(i):m.add(i),m})},w=(i,d)=>{O(m=>({...m,[d]:i.target.value}))},Q=async i=>{var m,z;const d=(m=Y[i])==null?void 0:m.trim();if(!d){s.error("Response cannot be empty.");return}try{const R=sessionStorage.getItem("token");if(!R){s.error("Authentication token is missing. Please log in again."),b("/login");return}await c.post(`https://knowvara.com/api/api/support/support-requests/${i}/responses`,{response:d},{headers:{Authorization:`Bearer ${R}`,"Content-Type":"application/json"}}),O(X=>({...X,[i]:""}));const S=await c.get("https://knowvara.com/api/api/support/support-requests",{headers:{Authorization:`Bearer ${R}`}});C(S.data)}catch(R){console.error("Error adding response:",R),c.isAxiosError(R)?s.error(((z=R.response)==null?void 0:z.data.message)||"Failed to add response."):s.error("An unexpected error occurred while adding response.")}},re=async()=>{var i;if(B!==null){j(!0);try{const d=sessionStorage.getItem("token");if(!d){s.error("Authentication token is missing. Please log in again."),b("/login");return}await c.put(`https://knowvara.com/api/api/support/support-requests/${B}/close`,{},{headers:{Authorization:`Bearer ${d}`}}),s.success("Support request closed successfully.");const m=await c.get("https://knowvara.com/api/api/support/support-requests",{headers:{Authorization:`Bearer ${d}`}});C(m.data)}catch(d){console.error("Error closing support request:",d),c.isAxiosError(d)?s.error(((i=d.response)==null?void 0:i.data.message)||"Failed to close support request."):s.error("An unexpected error occurred while closing support request.")}finally{j(!1),u(null)}}};return e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"text-lg font-semibold mb-4 text-gray-700",children:"Get Support from KnowVara"}),e.jsxs("div",{className:"rounded border p-4",children:[e.jsx("div",{className:"mb-6",children:e.jsx("button",{onClick:()=>_(i=>!i),className:"py-2 px-4 lms-button text-white rounded-md flex items-center",children:"Request Support"})}),P&&e.jsxs("form",{onSubmit:H,className:"mb-8 border p-4 rounded-md",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Submit a Support Request"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Subject"}),e.jsx("input",{type:"text",value:l,onChange:i=>E(i.target.value),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring focus:border-blue-300",required:!0})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Description"}),e.jsx("textarea",{value:I,onChange:i=>h(i.target.value),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring focus:border-blue-300",rows:4,required:!0})]}),e.jsx("div",{className:"",children:e.jsxs("button",{type:"submit",className:"py-2 px-4 lms-button text-white rounded-md flex items-center",disabled:y,children:[y?e.jsx(U,{className:"animate-spin mr-2"}):"",y?"Submitting...":"Submit Request"]})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4 text-gray-700",children:"Open Support Requests"}),N?e.jsx("div",{className:"flex justify-center items-center",children:e.jsx(U,{className:"animate-spin text-2xl text-blue-500"})}):v.open.length===0?e.jsx("p",{children:"No open support requests."}):v.open.map(i=>e.jsxs("div",{className:"mb-4 border rounded-md",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 cursor-pointer bg-gray-50",onClick:()=>G(i.id),children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-md font-semibold text-gray-700",children:i.subject}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Submitted by: ",i.submittedByName," on"," ",new Date(i.createdAt).toLocaleDateString()]})]}),e.jsx("div",{children:M.has(i.id)?e.jsx(Pe,{}):e.jsx(_e,{})})]}),M.has(i.id)&&e.jsxs("div",{className:"p-4",children:[e.jsx("p",{className:"mb-4",children:i.description}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"text-md font-semibold mb-2",children:"Responses"}),i.responses.length===0?e.jsx("p",{children:"No responses yet."}):i.responses.map(d=>e.jsxs("div",{className:"mb-2 border-l-4 pl-2",children:[e.jsxs("p",{className:"text-sm text-gray-700",children:[e.jsxs("strong",{children:[d.adminName,":"]})," ",d.response]}),e.jsx("p",{className:"text-xs text-gray-500",children:new Date(d.createdAt).toLocaleString()})]},d.id))]}),e.jsx("div",{className:"mb-4",children:e.jsx("textarea",{value:Y[i.id]||"",onChange:d=>w(d,i.id),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring focus:border-blue-300",rows:3,placeholder:"Enter your response here..."})}),e.jsxs("div",{className:"flex flex-row mt-2",children:[e.jsx("button",{type:"button",onClick:()=>Q(i.id),className:"py-2 px-4 lms-button text-white rounded-md flex items-center mr-2",children:"Submit Response"}),e.jsx("button",{type:"button",onClick:()=>u(i.id),className:"py-2 px-4 lms-button text-white rounded-md flex items-center",children:"Close Request"})]})]})]},i.id))]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4 text-gray-700",children:"Closed Support Requests"}),N?e.jsx("div",{className:"flex justify-center items-center",children:e.jsx(U,{className:"animate-spin text-2xl text-blue-500"})}):v.closed.length===0?e.jsx("p",{children:"No closed support requests."}):v.closed.map(i=>e.jsxs("div",{className:"mb-4 border rounded-md",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 cursor-pointer bg-gray-50",onClick:()=>G(i.id),children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-md font-semibold text-gray-700",children:i.subject}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Submitted by: ",i.submittedByName," on"," ",new Date(i.createdAt).toLocaleDateString()]})]}),e.jsx("div",{children:M.has(i.id)?e.jsx(Pe,{}):e.jsx(_e,{})})]}),M.has(i.id)&&e.jsxs("div",{className:"p-4",children:[e.jsx("p",{className:"mb-4",children:i.description}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"text-md font-semibold mb-2",children:"Responses"}),i.responses.length===0?e.jsx("p",{children:"No responses yet."}):i.responses.map(d=>e.jsxs("div",{className:"mb-2 border-l-4 pl-2",children:[e.jsxs("p",{className:"text-sm text-gray-700",children:[e.jsxs("strong",{children:[d.adminName,":"]})," ",d.response]}),e.jsx("p",{className:"text-xs text-gray-500",children:new Date(d.createdAt).toLocaleString()})]},d.id))]})]})]},i.id))]}),q&&e.jsx(L,{title:"Thank You",onClose:()=>T(!1),onConfirm:()=>T(!1),singleButton:!0,confirmText:"Close",widthClassName:"max-w-md",children:e.jsx("p",{children:"Thank you for contacting us. Someone will respond soon."})}),B!==null&&e.jsx(L,{title:"Confirm Close Request",onClose:()=>u(null),onConfirm:re,confirmText:A?"Closing...":"Confirm Close",isConfirmDisabled:A,widthClassName:"max-w-md",children:e.jsx("p",{children:"Are you sure you want to close this support request?"})})]})]})},ls=({storefronts:n,onDelete:b})=>{const p=ge(),v="https://lms.knowvara.com",C=y=>{p(`/admin/storefronts/edit/${y.id}`)},N=()=>{p("/admin/storefronts/create")},[k,P]=Ie.useState(!1),[_,l]=Ie.useState(null),E=y=>{l(y),P(!0)},I=()=>{P(!1),l(null)},h=()=>{_&&b(_.id),I()};return e.jsxs("div",{className:"w-full md:w-full",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Storefronts"}),e.jsxs("button",{type:"button",onClick:N,className:"flex items-center py-2 px-4 lms-button text-white","aria-label":"Create Storefront",children:[e.jsx(Fe,{className:"mr-1"}),"Create Storefront"]})]}),n.length===0?e.jsx("p",{children:"No storefronts available."}):e.jsx("div",{className:"overflow-x-auto mb-6",children:e.jsxs("table",{className:"min-w-full bg-white",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"py-2 px-4 border",children:"Title"}),e.jsx("th",{className:"py-2 px-4 border",children:"Store Code"}),e.jsx("th",{className:"py-2 px-4 border",children:"Store Link"}),e.jsx("th",{className:"py-2 px-4 border w-32",children:"Actions"})]})}),e.jsx("tbody",{children:n.map(y=>{const $=`${v}/store/${y.storecode}`;return e.jsxs("tr",{className:"text-center",children:[e.jsx("td",{className:"py-2 px-4 border",children:y.title}),e.jsx("td",{className:"py-2 px-4 border",children:y.storecode}),e.jsx("td",{className:"py-2 px-4 border",children:e.jsxs("a",{href:$,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline flex items-center justify-center",children:[$,e.jsx(es,{className:"ml-1 text-sm"})]})}),e.jsxs("td",{className:"py-2 px-4 border",children:[e.jsx("button",{type:"button",onClick:()=>C(y),className:"mr-2 lms-icon","aria-label":"Edit Storefront",title:"Edit Storefront",children:e.jsx(De,{})}),e.jsx("button",{type:"button",onClick:()=>E(y),className:"lms-icon","aria-label":"Delete Storefront",title:"Delete Storefront",children:e.jsx(Me,{})})]})]},y.id)})})]})}),e.jsx(te,{children:k&&e.jsx(L,{title:"Confirm Delete",onClose:I,onConfirm:h,children:e.jsxs("p",{children:['Are you sure you want to delete the storefront "',_==null?void 0:_.title,'"?']})})})]})},cs=({coupon:n,onClose:b,onSave:p})=>{const[v,C]=r.useState(n?n.code:""),[N,k]=r.useState(n?n.percent_off:10),[P,_]=r.useState(n&&n.expiration_date?n.expiration_date:""),[l,E]=r.useState(""),I=()=>{if(E(""),!v.trim()){E("Coupon code is required.");return}if(N<1||N>100){E("Percent off must be between 1 and 100.");return}if(P){const h=new Date,y=new Date(P);if(y.setHours(23,59,59,999),y<h){E("Expiration date cannot be in the past.");return}}p({code:v.trim(),percent_off:N,expiration_date:P||void 0})};return e.jsxs(L,{title:n?"Edit Coupon Code":"Create Coupon Code",onClose:b,onConfirm:I,confirmText:n?"Update Coupon":"Create Coupon",singleButton:!1,widthClassName:"max-w-md",isConfirmDisabled:!1,children:[l&&e.jsxs("div",{className:"flex items-center mb-4 text-red-500",children:[e.jsx(Re,{className:"mr-2"}),e.jsx("span",{children:l})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"mb-1 font-semibold",children:"Coupon Code"}),e.jsx("input",{type:"text",value:v,onChange:h=>C(h.target.value),className:"mb-4 p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"ENTERCODE",required:!0}),e.jsx("label",{className:"mb-1 font-semibold",children:"Percent Off (%)"}),e.jsx("input",{type:"number",value:N,onChange:h=>k(Number(h.target.value)),className:"mb-4 p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"10",min:1,max:100,required:!0}),e.jsx("label",{className:"mb-1 font-semibold",children:"Expiration Date (Optional)"}),e.jsx("input",{type:"date",value:P,onChange:h=>_(h.target.value),className:"mb-4 p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})},ds=async n=>(await c.get("https://knowvara.com/api/api/orgs/coupons",{headers:{Authorization:`Bearer ${n}`}})).data,ms=async(n,b)=>(await c.post("https://knowvara.com/api/api/orgs/coupons",b,{headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"}})).data,us=async(n,b,p)=>(await c.put(`https://knowvara.com/api/api/orgs/coupons/${b}`,p,{headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"}})).data,ps=async(n,b)=>{await c.delete(`https://knowvara.com/api/api/orgs/coupons/${b}`,{headers:{Authorization:`Bearer ${n}`}})},xs=()=>{const[n,b]=r.useState([]),[p,v]=r.useState(!1),[C,N]=r.useState(""),[k,P]=r.useState(!1),[_,l]=r.useState(null),[E,I]=r.useState(!1),[h,y]=r.useState(null),$=r.useCallback(async()=>{var u,A;v(!0),N("");try{const j=sessionStorage.getItem("token");if(!j){s.error("Authentication token is missing. Please log in again.");return}const H=await ds(j);b(H)}catch(j){console.error("Error fetching coupons:",j),c.isAxiosError(j)?(N(((u=j.response)==null?void 0:u.data.message)||"Failed to fetch coupons."),s.error(((A=j.response)==null?void 0:A.data.message)||"Failed to fetch coupons.")):(N("An unexpected error occurred while fetching coupons."),s.error("Failed to fetch coupons."))}finally{v(!1)}},[]);r.useEffect(()=>{$()},[$]);const q=()=>{l(null),P(!0)},T=u=>{l(u),P(!0)},M=()=>{l(null),P(!1)},J=async u=>{var A;try{const j=sessionStorage.getItem("token");if(!j){s.error("Authentication token is missing. Please log in again.");return}_?(await us(j,_.Id,u),s.success("Coupon updated successfully.")):(await ms(j,u),s.success("Coupon created successfully.")),$(),M()}catch(j){console.error("Error saving coupon:",j),c.isAxiosError(j)?s.error(((A=j.response)==null?void 0:A.data.message)||"Failed to save coupon code."):s.error("An unexpected error occurred.")}},Y=u=>{y(u),I(!0)},O=()=>{I(!1),y(null)},B=async()=>{var u;if(h)try{const A=sessionStorage.getItem("token");if(!A){s.error("Authentication token is missing. Please log in again.");return}await ps(A,h.Id),s.success("Coupon deleted successfully."),$(),O()}catch(A){console.error("Error deleting coupon:",A),c.isAxiosError(A)?s.error(((u=A.response)==null?void 0:u.data.message)||"Failed to delete coupon code."):s.error("An unexpected error occurred.")}};return e.jsxs("div",{className:"w-full md:w-full",children:[e.jsxs("div",{className:"flex w-full justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2 text-gray-700",children:"Coupon Codes"}),e.jsxs("button",{type:"button",onClick:q,className:"flex items-center py-2 px-4 lms-button text-white mb-4",children:[e.jsx(Fe,{className:"mr-1"}),"Create Coupon Code"]})]}),e.jsx("div",{className:"mb-6",children:p?e.jsx("div",{className:"flex justify-center items-center",children:e.jsx(U,{className:"animate-spin text-2xl text-blue-500"})}):C?e.jsx("div",{className:"text-red-500 text-center",children:C}):n.length===0?e.jsx("p",{children:"No coupon codes found."}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full bg-white",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"py-2 px-4 border",children:"Code"}),e.jsx("th",{className:"py-2 px-4 border",children:"Percent Off (%)"}),e.jsx("th",{className:"py-2 px-4 border",children:"Expiration Date"}),e.jsx("th",{className:"py-2 px-4 border",children:"Usage Count"}),e.jsx("th",{className:"py-2 px-4 border w-32",children:"Actions"})]})}),e.jsx("tbody",{children:n.map(u=>e.jsxs("tr",{className:"text-center",children:[e.jsx("td",{className:"py-2 px-4 border",children:u.code}),e.jsx("td",{className:"py-2 px-4 border",children:u.percent_off}),e.jsx("td",{className:"py-2 px-4 border",children:u.expiration_date?new Date(u.expiration_date).toLocaleDateString():"N/A"}),e.jsx("td",{className:"py-2 px-4 border",children:u.usage_count}),e.jsxs("td",{className:"py-2 px-4 border",children:[e.jsx("button",{type:"button",onClick:()=>T(u),className:"mr-2 lms-icon",title:"Edit Coupon",children:e.jsx(De,{})}),e.jsx("button",{type:"button",onClick:()=>Y(u),className:"lms-icon",title:"Delete Coupon",children:e.jsx(Me,{})})]})]},u.Id))})]})})}),e.jsx(te,{children:k&&e.jsx(cs,{coupon:_,onClose:M,onSave:J})}),e.jsx(te,{children:E&&e.jsx(L,{title:"Confirm Delete",onClose:O,onConfirm:B,children:e.jsxs("p",{children:['Are you sure you want to delete the coupon code "',h==null?void 0:h.code,'"?']})})})]})},fs=()=>{const{user:n,updateUser:b}=$e(),p=ge(),v=ss(),C=ts(),N=rs(),k=n==null?void 0:n.OrgID,[P,_]=r.useState([]),[l,E]=r.useState({id:0,Name:"",companyLogoUrl:"",ecommerce:!1,gamify:!0,selfRegister:!1,contact_email:"",contact_phone:"",theme_color1:"#FFFFFF",theme_color2:"#000000",timezone:"UTC",stripe_account_id:"",stripe_customer_id:"",stripe_subscription_id:"",subscription_plan:"",subscription_status:"",trial_end:"",created_at:"",updated_at:"",subdomain:"",master_from_email:"",master_from_name:""}),[I,h]=r.useState(!1),[y,$]=r.useState(!1),[q,T]=r.useState(""),[M,J]=r.useState(""),[Y,O]=r.useState(!1),[B,u]=r.useState(!1),[A,j]=r.useState(""),[H,G]=r.useState("success"),[w,Q]=r.useState(null),[re,i]=r.useState([]),[d,m]=r.useState(!1),[z,R]=r.useState(!1),[S,X]=r.useState(null),[oe,F]=r.useState(!1),[Ue,be]=r.useState(!1),[ye,K]=r.useState(!1),[Le,Te]=r.useState([]),[ze,Oe]=r.useState(!0),[ae,je]=r.useState(""),[Be,Ne]=r.useState(!1),[me,ue]=r.useState(""),[ne,pe]=r.useState((n==null?void 0:n.Email)||""),[ie,xe]=r.useState(""),[Z,he]=r.useState(!1),Ce=async()=>{try{const t=await as();_(t)}catch(t){console.error("Error fetching storefronts:",t),s.error("Failed to load storefronts.")}};r.useEffect(()=>{Ce()},[]);const qe=async t=>{try{await ns(t),s.success("Storefront deleted successfully."),Ce()}catch(o){console.error("Error deleting storefront:",o),s.error("Failed to delete storefront.")}};r.useEffect(()=>{(async()=>{var o;try{const a=sessionStorage.getItem("token");if(!a){s.error("Authentication token is missing. Please log in again."),p("/login");return}const f=await c.get("https://knowvara.com/api/api/orgs/plans",{headers:{Authorization:`Bearer ${a}`}});Te(f.data)}catch(a){console.error("Error fetching plans:",a),c.isAxiosError(a)?je(((o=a.response)==null?void 0:o.data.message)||"Failed to fetch subscription plans."):je("An unexpected error occurred while fetching plans."),s.error(ae||"Failed to load subscription plans.")}finally{Oe(!1)}})()},[p,ae]);const Ye=[{id:"enterprise",name:"Enterprise",price:"Contact Us",description:"Custom solutions for your organization.",users:"Unlimited users",storage:"Unlimited Courses"}],He=[...Le.map(t=>({id:t.id.toString(),name:t.name,price:`$${Number(t.price).toFixed(2)}/month`,description:t.description,users:`Up to ${t.users_limit} users`,storage:t.storage_limit,priceId:t.price_id})),...Ye];r.useEffect(()=>{(async()=>{var o;if(!k){p("/admin");return}h(!0),T("");try{const a=sessionStorage.getItem("token");if(!a){s.error("Authentication token is missing. Please log in again."),p("/login");return}const f=await c.get("https://knowvara.com/api/api/orgs/org",{headers:{Authorization:`Bearer ${a}`}});E(f.data),m(!0);const x=await c.get("https://knowvara.com/api/api/orgs/subscription",{headers:{Authorization:`Bearer ${a}`}});Q(x.data),m(!1);const g=await c.get("https://knowvara.com/api/api/orgs/payment-history",{headers:{Authorization:`Bearer ${a}`}});g.data&&Array.isArray(g.data.payments)?i(g.data.payments):(i([]),console.error("Unexpected payment history response structure:",g.data),s.error("Failed to load payment history."))}catch(a){console.error(a),c.isAxiosError(a)?s.error(((o=a.response)==null?void 0:o.data.message)||"Error fetching organization or subscription data."):s.error("An unexpected error occurred.")}finally{h(!1),m(!1)}})()},[k,p]),r.useEffect(()=>{O(!!l.stripe_account_id)},[l.stripe_account_id]),r.useEffect(()=>{const t=new URLSearchParams(v.search),o=t.get("connected"),a=t.get("error");o==="true"&&(console.log("Stripe connected successfully."),j("Your Stripe account has been connected successfully! You are ready to accept payments."),G("success"),u(!0)),a&&(console.log("Stripe connection error."),j(`We were unable to connect your Stripe account. The error received was: ${a}. Please try again or contact Technical Support.`),G("error"),u(!0))},[v.search]);const Ge=async()=>{var t;try{const o=sessionStorage.getItem("token");if(!o){s.error("Authentication token is missing. Please log in again."),p("/login");return}const a=await c.get("https://knowvara.com/api/api/orgs/stripe/connect",{headers:{Authorization:`Bearer ${o}`}});window.location.href=a.data.url}catch(o){c.isAxiosError(o)?s.error(((t=o.response)==null?void 0:t.data.message)||"Error initiating Stripe Connect."):s.error("An unexpected error occurred.")}},D=t=>{const o=t.target,{name:a,type:f}=o;let x="";f==="checkbox"&&o instanceof HTMLInputElement?x=o.checked:(o instanceof HTMLInputElement||o instanceof HTMLSelectElement)&&(x=o.value),E(g=>({...g,[a]:x}))},Ke=async t=>{var o;t.preventDefault(),h(!0),T(""),J("");try{const a=sessionStorage.getItem("token");if(!a){s.error("Authentication token is missing. Please log in again."),p("/login");return}await c.put("https://knowvara.com/api/api/orgs/org",l,{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}}),n&&b({ecommerce:l.ecommerce,gamify:l.gamify,theme_color1:l.theme_color1,theme_color2:l.theme_color2}),s.success("Organization settings updated successfully."),console.log("Called toast success")}catch(a){console.error(a),c.isAxiosError(a)?s.error(((o=a.response)==null?void 0:o.data.message)||"Error updating organization settings."):s.error("An unexpected error occurred.")}finally{h(!1)}},Ve=async t=>{var f;const o=t.target.files&&t.target.files[0];if(!o){s.error("No file selected.");return}const a=new FormData;a.append("logo",o),$(!0);try{const x=sessionStorage.getItem("token");if(!x){s.error("Authentication token is missing. Please log in again."),p("/login");return}const g=await c.post("https://knowvara.com/api/api/orgs/upload-logo",a,{headers:{Authorization:`Bearer ${x}`,"Content-Type":"multipart/form-data"}});E(W=>({...W,companyLogoUrl:g.data.companyLogoUrl})),n&&b({companyLogoUrl:g.data.companyLogoUrl}),s.success("Company logo uploaded successfully.")}catch(x){c.isAxiosError(x)?s.error(((f=x.response)==null?void 0:f.data.message)||"Error uploading company logo."):s.error("An unexpected error occurred.")}finally{$(!1),t.target.value=""}},we=()=>{u(!1),j(""),G("success"),p(v.pathname,{replace:!0})},We=()=>{X(null),R(!0)},V=()=>{X(null),R(!1)},Je=()=>{be(!0)},Se=()=>{be(!1)},ve=()=>{Ne(!0),ue(""),pe((n==null?void 0:n.Email)||""),xe(""),he(!1)},ke=()=>{Ne(!1),ue(""),pe((n==null?void 0:n.Email)||""),xe(""),he(!1)},Qe=async()=>{var a,f;if(!me.trim()){s.error("Please enter a message.");return}if(!ne.trim()){s.error("Please enter your contact email.");return}if(!/\S+@\S+\.\S+/.test(ne)){s.error("Please enter a valid email address.");return}if(ie.trim()&&!/^[+\d]?(?:[\d-.\s()]*)$/.test(ie)){s.error("Please enter a valid phone number.");return}const o=sessionStorage.getItem("token");if(!o){s.error("Authentication token is missing. Please log in again."),p("/login");return}try{h(!0),await c.post("https://knowvara.com/api/api/orgs/contactEnterprise",{orgId:k,message:me,contactEmail:ne,contactPhone:ie},{headers:{Authorization:`Bearer ${o}`}}),he(!0)}catch(x){if(console.error(x),c.isAxiosError(x)){const g=x;(f=(a=g.response)==null?void 0:a.data)!=null&&f.error?s.error(g.response.data.error):s.error("Failed to send inquiry.")}else s.error("Failed to send inquiry.")}finally{h(!1)}},Ee=()=>{var o;console.log("Subscription Plan:",l.subscription_plan),console.log("Stripe Subscription ID:",l.stripe_subscription_id);const t=((o=l.subscription_plan)==null?void 0:o.toLowerCase())||"";return!l.stripe_subscription_id&&(t==="free"||t==="free trial")},Xe=async()=>{var t,o;if(!S){s.error("Please select a plan.");return}F(!0);try{const a=sessionStorage.getItem("token");if(!a){s.error("Authentication token is missing. Please log in again."),p("/login");return}if(S.id==="enterprise"){ve(),V();return}if(S.id==="free"){try{(await c.post("https://knowvara.com/api/api/orgs/selectFreeTrial",{orgId:k},{headers:{Authorization:`Bearer ${a}`}})).status===200&&(s.success("Free Trial selected successfully!"),b({subscription_plan:"free"}),p("/admin"),V())}catch(f){console.error(f),c.isAxiosError(f)?s.error(((t=f.response)==null?void 0:t.data.message)||"Failed to select Free Trial."):s.error("Failed to select Free Trial.")}finally{F(!1)}return}if(Ee()){if(!C||!N){s.error("Stripe has not loaded yet. Please try again."),F(!1);return}const f=N.getElement(se);if(!f){s.error("Payment information is incomplete."),F(!1);return}const{error:x,paymentMethod:g}=await C.createPaymentMethod({type:"card",card:f,billing_details:{email:n==null?void 0:n.Email}});if(x){console.error("[createPaymentMethod error]",x),s.error(x.message||"Payment method creation failed."),F(!1);return}if(!g){s.error("Payment method creation failed."),F(!1);return}console.log("Created PaymentMethod:",g==null?void 0:g.id),console.log("Sending to backend:",{orgId:k,priceId:S.priceId,paymentMethodId:g==null?void 0:g.id});const W=await c.post("https://knowvara.com/api/api/orgs/update-subscription",{orgId:k,priceId:S.priceId,paymentMethodId:g.id},{headers:{Authorization:`Bearer ${a}`}});if(W.status===200){const{clientSecret:le,message:ce}=W.data;if(s.success(ce||"Subscription updated successfully!"),le){const{error:fe,paymentIntent:Ae}=await C.confirmCardPayment(le,{payment_method:g.id});if(fe){console.error("[confirmCardPayment error]",fe),s.error(fe.message||"Payment confirmation failed."),F(!1);return}Ae&&Ae.status==="succeeded"?s.success("Payment confirmed successfully!"):s.error("Payment confirmation incomplete. Please check your payment method.")}const ee=await c.get("https://knowvara.com/api/api/orgs/org",{headers:{Authorization:`Bearer ${a}`}});E(ee.data);const de=await c.get("https://knowvara.com/api/api/orgs/subscription",{headers:{Authorization:`Bearer ${a}`}});Q(de.data),V()}}else{const f=await c.post("https://knowvara.com/api/api/orgs/update-subscription",{orgId:k,priceId:S.priceId},{headers:{Authorization:`Bearer ${a}`}});if(f.status===200){const{clientSecret:x,message:g}=f.data;if(s.success(g||"Subscription updated successfully!"),x){if(!C||!N){s.error("Stripe has not loaded yet. Please try again."),F(!1);return}const ce=N.getElement(se);if(!ce){s.error("Payment information is incomplete."),F(!1);return}const{error:ee,paymentIntent:de}=await C.confirmCardPayment(x,{payment_method:{card:ce,billing_details:{email:n==null?void 0:n.Email}}});if(ee){console.error("[confirmCardPayment error]",ee),s.error(ee.message||"Payment confirmation failed."),F(!1);return}de&&de.status==="succeeded"?s.success("Payment confirmed successfully!"):s.error("Payment confirmation incomplete. Please check your payment method.")}const W=await c.get("https://knowvara.com/api/api/orgs/org",{headers:{Authorization:`Bearer ${a}`}});E(W.data);const le=await c.get("https://knowvara.com/api/api/orgs/subscription",{headers:{Authorization:`Bearer ${a}`}});Q(le.data),V()}}}catch(a){console.error(a),c.isAxiosError(a)?s.error(((o=a.response)==null?void 0:o.data.message)||"Error changing subscription plan."):s.error("An unexpected error occurred.")}finally{F(!1)}},Ze=async()=>{var t;if(!C||!N){s.error("Stripe has not loaded yet. Please try again.");return}K(!0);try{const o=N.getElement(se);if(!o){s.error("Payment information is incomplete."),K(!1);return}const{error:a,paymentMethod:f}=await C.createPaymentMethod({type:"card",card:o,billing_details:{email:n==null?void 0:n.Email}});if(a){console.error("[createPaymentMethod error]",a),s.error(a.message||"Payment method creation failed."),K(!1);return}if(!f){s.error("Payment method creation failed."),K(!1);return}const x=sessionStorage.getItem("token");if(!x){s.error("Authentication token is missing. Please log in again."),p("/login"),K(!1);return}(await c.post("https://knowvara.com/api/api/orgs/update-payment-method",{orgId:k,paymentMethodId:f.id},{headers:{Authorization:`Bearer ${x}`}})).status===200&&(s.success("Payment information updated successfully!"),Se())}catch(o){console.error(o),c.isAxiosError(o)?s.error(((t=o.response)==null?void 0:t.data.message)||"Error updating payment information."):s.error("An unexpected error occurred.")}finally{K(!1)}};return I&&!l.Name?e.jsx("div",{className:"flex justify-center items-center h-screen",children:e.jsx(U,{className:"animate-spin text-4xl text-blue-500"})}):e.jsxs("div",{className:"flex flex-col md:flex-row h-auto min-h-[100%]",children:[e.jsx("div",{className:"flex flex-col items-start w-full md:w-3/5 border-r border-gray-300 p-4",children:e.jsxs("form",{onSubmit:Ke,className:"w-full",id:"org-settings-form",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-600",children:"Edit Organization Settings"}),M&&e.jsx("div",{className:"mb-4 text-green-500",children:M}),q&&e.jsx("div",{className:"mb-4 text-red-500",children:q}),e.jsxs("div",{className:"mb-6 rounded-lg border p-4",children:[e.jsxs("div",{className:"flex flex-row w-full",children:[e.jsxs("div",{className:"flex flex-col w-1/5 items-center mr-6",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Company Logo"}),e.jsx("img",{src:l.companyLogoUrl?"/content"+l.companyLogoUrl:"/defaultOrgLogo.png",alt:"Company Logo",className:"w-48 h-24 object-contain mb-4"}),e.jsxs("div",{className:"w-full flex justify-center",children:[e.jsx("input",{type:"file",accept:"image/*",onChange:Ve,className:"hidden",id:"logo-upload"}),e.jsx("label",{htmlFor:"logo-upload",className:"py-1 px-4 lms-button text-xs cursor-pointer flex items-center justify-center",children:y?e.jsxs(e.Fragment,{children:[e.jsx(U,{className:"animate-spin mr-2"})," Uploading..."]}):"Select Logo"})]})]}),e.jsxs("div",{className:"w-4/5",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:space-x-4 mb-4",children:[e.jsxs("div",{className:"flex-1 mb-4 md:mb-0",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Organization Name"}),e.jsx("input",{type:"text",name:"Name",value:l.Name,onChange:D,required:!0,className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring focus:border-blue-300"})]}),e.jsxs("div",{className:"flex-1 mb-4 md:mb-0",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Subdomain"}),e.jsx("input",{type:"text",name:"subdomain",value:l.subdomain||"",onChange:D,className:"w-1/2 px-3 py-2 border rounded-md focus:outline-none focus:ring focus:border-blue-300 mr-1",placeholder:"yourcompany"}),e.jsx("span",{className:"",children:".knowvara.com"})]})]}),e.jsxs("div",{className:"flex flex-col md:flex-row md:space-x-4 mb-4",children:[e.jsxs("div",{className:"flex-1 mb-4 md:mb-0",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Contact Email"}),e.jsx("input",{type:"email",name:"contact_email",value:l.contact_email||"",onChange:D,className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring focus:border-blue-300",placeholder:"support@example.com"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Contact Phone"}),e.jsx("input",{type:"text",name:"contact_phone",value:l.contact_phone||"",onChange:D,className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring focus:border-blue-300",placeholder:"+1234567890"})]})]}),e.jsxs("div",{className:"flex flex-col md:flex-row md:space-x-4 mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"System Emails From (Email Address)"}),e.jsx("input",{type:"email",name:"master_from_email",value:l.master_from_email||"",onChange:D,className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring focus:border-blue-300",placeholder:"noreply@yourcompany.com"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"System Emails From (Name)"}),e.jsx("input",{type:"text",name:"master_from_name",value:l.master_from_name||"",onChange:D,className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring focus:border-blue-300",placeholder:"Learning Management System"})]})]}),e.jsxs("div",{className:"flex flex-col md:flex-row md:space-x-4 mb-4",children:[e.jsxs("div",{className:"flex-1 mb-4 md:mb-0",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Theme Color 1"}),e.jsx("input",{type:"color",name:"theme_color1",value:l.theme_color1,onChange:D,className:"w-full h-10 p-0 border-0"})]}),e.jsxs("div",{className:"flex-1 mb-4 md:mb-0",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Theme Color 2"}),e.jsx("input",{type:"color",name:"theme_color2",value:l.theme_color2,onChange:D,className:"w-full h-10 p-0 border-0"})]})]})]})]}),e.jsxs("div",{className:"flex flex-col space-y-4 mb-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"selfRegister",checked:l.selfRegister,onChange:D,className:"mr-2",id:"selfRegister"}),e.jsx("label",{htmlFor:"selfRegister",className:"text-gray-700 font-semibold",children:"Allow Users to Self Register"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"ecommerce",checked:l.ecommerce,onChange:D,className:"mr-2",id:"ecommerce"}),e.jsx("label",{htmlFor:"ecommerce",className:"text-gray-700 font-semibold",children:"Enable E-commerce"})]}),l.ecommerce&&e.jsxs("div",{className:"ml-2 mt-2 border rounded p-4",children:[Y?e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-green-600 text-lg mb-2",children:"Your Stripe account is connected."}),e.jsx("p",{children:"You can now assign prices to courses and bundles. You can also create external storefronts and coupon codes below."})]}):e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"mb-2",children:"To enable the collection of payments, you must link your Stripe account below."}),e.jsx("button",{type:"button",onClick:Ge,className:"py-2 px-4 bg-blue-500 text-white rounded-md",children:"Connect Stripe Account"})]}),e.jsx("div",{className:"mt-4 mb-4",children:e.jsx(ls,{storefronts:P,onDelete:qe})}),e.jsx("div",{className:"w-full md:w-full",children:e.jsx(xs,{})})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"gamify",checked:l.gamify,onChange:D,className:"mr-2",id:"gamify"}),e.jsx("label",{htmlFor:"gamify",className:"text-gray-700 font-semibold",children:"Enable Gamification"})]}),l.gamify&&e.jsx("div",{className:"ml-2 mt-2 border rounded p-4",children:e.jsx("button",{type:"button",onClick:()=>p("/admin/gamification"),className:"py-2 px-4 lms-button text-white rounded-md",children:"Manage Gamification"})})]})]})]})}),e.jsxs("div",{className:"w-full md:w-2/5 p-4",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4 text-gray-700",children:"Subscription Details"}),e.jsxs("div",{className:"border p-4 rounded-md mb-6",children:[d?e.jsx("div",{className:"flex justify-center items-center",children:e.jsx(U,{className:"animate-spin text-2xl text-blue-500"})}):e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"text-lg mt-0 pt-0",children:[e.jsx("strong",{children:"Current Plan:"})," ",(w==null?void 0:w.subscription_plan)||"No Active Subscription"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Next Payment Date:"})," ",w!=null&&w.next_payment_date?new Date(w.next_payment_date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"User Accounts:"})," ",w==null?void 0:w.number_of_users," ","used of"," ",(()=>{var o;const t=(o=w==null?void 0:w.subscription_plan)==null?void 0:o.toLowerCase();return t==="free"||t==="basic"?"100":t==="plus"?"250":t==="premium"?"1000":"N/A"})()," ","available."]}),(w==null?void 0:w.trial_end)&&e.jsxs("p",{children:[e.jsx("strong",{children:"Free Trial Expires On:"})," ",new Date(w.trial_end).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]}),e.jsx("button",{onClick:We,className:"mt-4 py-2 px-4 bg-green-500 text-white rounded mr-2 mb-4",children:"Change Plan"}),l.subscription_plan&&l.subscription_plan.toLowerCase()!=="free"&&e.jsx("button",{onClick:Je,className:"py-2 px-4 lms-button text-white rounded-md",children:"Update Payment Info"})]}),e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Payment History"}),e.jsx("div",{className:"border p-2 rounded-md mb-2",children:re.length===0?e.jsx("p",{children:"No payments found."}):e.jsxs("table",{className:"min-w-full bg-white",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"py-1",children:"Date"}),e.jsx("th",{className:"py-1",children:"Amount"}),e.jsx("th",{className:"py-1",children:"Status"})]})}),e.jsx("tbody",{children:re.map(t=>e.jsxs("tr",{className:"text-center",children:[e.jsx("td",{className:"py-1",children:new Date(t.created).toLocaleDateString()}),e.jsxs("td",{className:"py-1",children:["$",t.amount.toFixed(2)," ",t.currency.toUpperCase()]}),e.jsx("td",{className:"py-1 capitalize",children:t.status})]},t.id))})]})})]}),e.jsx("div",{className:"w-full",children:e.jsx(is,{})})]}),e.jsx(te,{children:B&&e.jsxs(L,{title:H==="success"?"Success":"Stripe Connection Error",onClose:we,onConfirm:we,singleButton:!0,confirmText:"OK",widthClassName:"max-w-md",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[H==="success"?e.jsx(os,{className:"text-green-500 text-2xl mr-2"}):e.jsx(Re,{className:"text-red-500 text-2xl mr-2"}),e.jsx("h2",{className:"text-xl font-semibold",children:"Notification"})]}),e.jsx("p",{className:"mb-6",children:A})]})}),e.jsx(te,{children:z&&e.jsxs(L,{title:"Change Your KnowVara Subscription",onClose:V,onConfirm:Xe,confirmText:oe?"Changing...":"Confirm Change",isConfirmDisabled:!S||oe,widthClassName:"max-w-5xl",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 overflow-y-auto max-h-96",children:ze?e.jsx("div",{className:"flex justify-center items-center col-span-4",children:e.jsx(U,{className:"animate-spin text-2xl text-blue-500"})}):ae?e.jsx("div",{className:"col-span-4 text-red-500 text-center",children:ae}):He.map(t=>{const o=t.name===l.subscription_plan;return e.jsxs("div",{className:`border rounded-lg p-4 flex flex-col ${o?"border-green-500 bg-green-50 cursor-default":(S==null?void 0:S.id)===t.id?"border-blue-500 shadow-lg cursor-pointer":"border-gray-300 cursor-pointer"}`,onClick:o?void 0:()=>X(t),children:[e.jsx("h3",{className:"text-xl font-bold mb-2",children:t.name}),e.jsx("p",{className:"text-lg mb-4",children:t.price}),e.jsxs("ul",{className:"list-disc list-inside mb-3",children:[e.jsx("li",{className:"text-sm mb-3 font-semibold",children:t.users}),e.jsx("li",{className:"text-sm mb-3",children:t.storage}),e.jsx("li",{className:"text-sm mb-3",children:"Custom Branding"})]}),t.id!=="enterprise"?e.jsx("button",{className:`mt-auto py-2 px-4 rounded-md text-white ${o?"bg-gray-400 cursor-not-allowed":(S==null?void 0:S.id)===t.id?"bg-green-500 hover:bg-green-600":"lms-button"}`,disabled:o||oe,children:o?"Current Plan":(S==null?void 0:S.id)===t.id?"Selected":"Select"}):e.jsx("button",{onClick:()=>{ve(),V()},className:"mt-auto py-2 px-4 text-white rounded-md lms-button",disabled:oe,children:"Contact Us"})]},t.id)})}),e.jsx("p",{className:"italic text-xs mt-2 ml-2",children:"Note: If you upgrade your subscription plan, a prorated amount will be calculated and charged for the remaining period of your current subscription."}),S&&Ee()&&e.jsxs("div",{className:"mt-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-4",children:"Enter Payment Details"}),e.jsx("div",{className:"p-4 border rounded-md",children:e.jsx(se,{options:{style:{base:{fontSize:"16px",color:"#424770","::placeholder":{color:"#aab7c4"},padding:"10px 12px",fontFamily:"inherit"},invalid:{color:"#9e2146"}}},className:"mb-4 p-3 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})})]})]})}),Ue&&e.jsx(L,{title:"Update Payment Information",onClose:Se,onConfirm:Ze,confirmText:ye?"Updating...":"Update Payment",isConfirmDisabled:ye,widthClassName:"max-w-2xl",children:e.jsx("div",{className:"p-4 border rounded-md",children:e.jsx(se,{options:{style:{base:{fontSize:"16px",color:"#424770","::placeholder":{color:"#aab7c4"},padding:"10px 12px",fontFamily:"inherit"},invalid:{color:"#9e2146"}}},className:"mb-4 p-3 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})})}),Be&&e.jsx(L,{title:Z?"Thank You":"Contact Us for Enterprise Plan",onClose:ke,onConfirm:Z?ke:Qe,singleButton:Z,confirmText:Z?"Close":"Submit",widthClassName:"max-w-md",children:Z?e.jsx("p",{children:"Thank you for your inquiry. Someone will contact you right away."}):e.jsxs("div",{className:"flex flex-col",children:[e.jsx("p",{children:"Need more from your LMS than the standard plans provide? No Problem! Tell us a little bit about your requirements in the form below, and someone will contact you right away."}),e.jsxs("label",{className:"mt-4 mb-1 text-sm font-medium text-gray-700",children:["Contact Email ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"email",value:ne,onChange:t=>pe(t.target.value),className:"mb-4 p-3 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"you@example.com",required:!0}),e.jsx("label",{className:"mb-1 text-sm font-medium text-gray-700",children:"Contact Phone Number (Optional)"}),e.jsx("input",{type:"tel",value:ie,onChange:t=>xe(t.target.value),className:"mb-4 p-3 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"123-456-7890"}),e.jsxs("label",{className:"mb-1 text-sm font-medium text-gray-700",children:["Message ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{value:me,onChange:t=>ue(t.target.value),className:"mt-4 p-3 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Your message here...",rows:4,required:!0})]})}),e.jsx("div",{className:"fixed bottom-0 left-0 w-full bg-white p-4 flex justify-end space-x-4 items-center border-t",children:e.jsx("button",{type:"submit",form:"org-settings-form",className:"py-2 px-4 lms-button text-white flex items-center",disabled:I,children:I?e.jsxs(e.Fragment,{children:[e.jsx(U,{className:"animate-spin mr-2"})," Saving..."]}):"Save Changes"})})]})};export{fs as default};
